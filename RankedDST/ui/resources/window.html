<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Ranked DST</title>
  <link rel="stylesheet" href="./styles.css">
</head>
<body>
  <div id="header">
    <!-- DST Cluster Folder Not Found -->
    <div id="no-cluster-section">
      Cluster Folder Not Found...
    </div>

    <!-- Dedicated Server Tools Not Present -->
    <div id="no-path-section">
      Dedicated Server Tools Not Found...
    </div>

      <!-- Server May Be Down -->
    <div id="no-connection-section">
      Failed to reach our servers...
    </div>

    <!-- Not Connected -->
    <div id="not-connected-section">
      Configurations are Good
    </div>

    <!-- Connecting -->
    <div id="connecting-section">
      Connecting
    </div>

    <!-- Connected -->
    <div id="connected-section">
      <div id="status-section">
        <div class="connection-status">Connected</div>
        <div id="match-status"></div>
      </div>
      <div id="user-section">
        <div id="user-name"></div>
      </div>
      <div id="logout-button" class="header-button" onclick="onLogoutClicked()">
        Logout
      </div>
    </div>
  </div>
  <div id="main-body">
    <!-- DST Cluster Folder Not Found -->
    <div id="no-cluster-main">
      <div id="no-cluster-top" class="no-cluster-txt">We can't seem to find your cluster folder. Please provide it for us!</div>
      
      <div id="no-cluster-path">
        <div class="button" onclick="onOpenFileExplorer('cluster_path')">Use File Explorer</div>
        <img src="./images/research_notes.png"/>
        <input 
          id="cluster-path-input"
          class="path-input"
          placeholder="...or enter the path yourself. Press 'Enter' to submit."
          autocomplete="off"
        />
      </div>
      <div id="no-cluster-bot" class="no-cluster-txt">Click below for a step-by-step guide</div>
      <div id="no-cluster-help" class="button" onclick="onOpenWebsite('setup?tab=no-cluster')">Please Show Me How</div>
    </div>

    <!-- Missing Dedicated Server Tools -->
    <div id="no-path-main">
      <div id="no-path-title" class="row">
        <div class="label">This app relies on the <b>Dedicated Server Tools</b> created by <strong>Klei</strong>.</div>
      </div>
      <div id="no-path-info" class="row">
        <div class="label">You need to download them on steam to proceed</div>
        <img src="./images/conceptual_scrubber.webp"/>
        <div class="button" onclick="onOpenWebsite('setup?tab=no-dedi')">Show Me How</div>
      </div>
      <div id="no-path-tools" class="row">
        <div class="label">If you already have it downloaded and we can't find it, then please provide the path below.</div>
        <div class="button" onclick="onOpenFileExplorer('dedi_path')">Use File Explorer</div>
        <img src="./images/research_notes.png"/>
        <input 
          id="dedi-path-input"
          class="path-input"
          placeholder="...or enter it yourself. Press 'Enter' to submit."
          autocomplete="off"
        />
      </div>
    </div>

    <!-- Server May Be Down -->
    <div id="no-server-main">
      <div id="top-msg-no-server">We apologize for any inconveniences</div>
      <img id="bones" src="./images/skeleton_5.png"/>
      <div id="bot-msg-no-server">
        <a
          href="https://discord.gg/j8yzf2K5ZF"
          target="_blank"
          rel="noopener noreferrer"
          id="discord-link"
        >
          <img id="discord" src="./icons/discord-icon.svg"/>
        </a>
        <!-- https://discord.gg/j8yzf2K5ZF -->
        <div>Reach out to us for support!</div>
        <img id="gramophone" src="./anims/gramophone_anim.webp"/>
      </div>
    </div>

    <!-- Not Connected -->
    <div id="not-connected-main">
      <div id="top-row-not-connected" class="row">
        <img class="row-img" src="./images/missing_character.webp"/>
        <div class="label">
          Log into your <b>Ranked DST</b> account to play!
          <!-- Create an account on our <u class="clickable" onclick="onOpenWebsite('profile')">website</u> to get started! -->
        </div>
      </div>

      <div id="login-row">
        <input
          id="login-username-input"
          class="path-input"
          placeholder="Enter Username"
          autocomplete="off"
        />
        <input
          id="login-password-input"
          class="path-input"
          type="password"
          placeholder="Enter Password"
          autocomplete="off"
        />
        <div id="login-button" class="button" onclick="handleLoginClicked()">Login!</div>
      </div>
    </div>

    <!-- Connecting -->
    <div id="connecting-main">
      <div id="connecting-msg">Please Wait...</div>
      <div class="enter-left-wrapper">
        <img id="connecting-item" src="./images/calibrated_perceiver.png"/>
      </div>
    </div>

    <!-- Connected -->
    <div id="connected-main">
      <div id="wagstaff-section">
        <div class="wagstaff-dialogue-top"></div>
        <img id="wagstaff" src="./images/wagstaff.png"/>
        <div class="wagstaff-dialogue-bot"></div>
      </div>

      <!-- No Match -->
      <div id="no-match-footer" class="footer">
        <div id="button-section">
          <div id="queue-button" class="button" onclick="onOpenWebsite('queue')">Find A Match</div>
          <div id="stats-button" class="button" onclick="onOpenWebsite('stats')">View Stats</div>
        </div>
      </div>

      <!-- World Generating -->
      <div id="world-generating-footer" class="footer">
        <div id="world-gen-msg">It is not recommended to try joining the world yet.</div>
      </div>

      <!-- World Ready -->
      <div id="world-ready-footer" class="footer">
        <div id="world-ready-msg">To find the world: click <strong>Browse Games</strong> and set <strong>Connection</strong> filter to <b>LAN</b>.</div>
        <div id="world-ready-warning">Don't start before the draft phase is over.</div>
      </div>

      <!-- In Progress -->
      <div id="in-progress-footer" class="footer">
        <div class="button" onclick="onStopServerClicked()">Shutdown Server</div>
      </div>

      <!-- Completed -->
      <div id="completed-footer" class="footer">
        <div class="button" onclick="onOpenWebsite('queue')">View Match Status</div>
      </div>

      <!-- <div class="button" onclick="onStartServerClicked()">Start Server</div> -->
      <!-- <div class="button" onclick="onStopServerClicked()">Stop Server</div> -->
    </div>
  </div>
  
  <div id="popup-wrapper">
    <!-- A file path was given but it was wrong -->
    <div id="popup">
      <div id="popup-msg"></div>
      <div id="close-popup-button" onclick="hidePopup('wrong-path-popup')">Okay</div>
    </div>
  </div>

  <script type="module" src="./ui_actions.js"></script>
  <script type="module" src="./ui_updates.js"></script>
</body>
</html>
